<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>OptiLoves Invest</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="antialiased text-gray-900">
  <header class="mx-auto max-w-6xl px-4 py-4 flex items-center justify-between">
    <a class="text-xl font-semibold">OptiLoves Invest</a>
    <nav class="flex gap-6 text-sm">
      <a href="/properties" class="hover:underline">Properties</a>
      <a href="/learn" class="hover:underline">Learn</a>
      <a href="/kyc" class="hover:underline">KYC</a>
      <a href="/?lang=en" class="hover:underline">EN</a>
    </nav>
  </header>

  <main class="mx-auto max-w-6xl px-4">
    <section class="py-10 md:py-16">
      <h1 class="text-3xl md:text-5xl font-bold tracking-tight">Tokenized access to African real estate.</h1>
      <p class="mt-4 text-lg text-gray-600">Invest from <span class="font-semibold">$50</span> per token. Focus: Kinshasa.</p>
      <div class="mt-6 flex gap-3">
        <a href="/properties" class="inline-flex items-center rounded-xl px-4 py-2 bg-black text-white">View properties</a>
        <a href="/pledge" class="inline-flex items-center rounded-xl px-4 py-2 border">Investor Pledge</a>
      </div>
    </section>

    <section class="py-6">
      <h2 class="text-xl font-semibold mb-4">Properties</h2>
      <article class="rounded-2xl border p-5 flex flex-col gap-2 md:flex-row md:items-center md:justify-between">
        <div>
          <h3 class="text-lg font-semibold">Kinshasa – Nsele HQ</h3>
          <p class="text-gray-600">Token price: <strong>$50</strong></p>
          <p class="text-amber-700 font-medium">Available soon</p>
        </div>
        <div class="flex gap-3">
          <a href="/properties/nsele-hq" class="rounded-xl px-4 py-2 border">View</a>
          <button class="rounded-xl px-4 py-2 bg-gray-300 text-gray-600 cursor-not-allowed" disabled>Buy</button>
          <a href="/waitlist?n=nsele-hq" class="rounded-xl px-4 py-2 border">Notify me</a>
        </div>
      </article>
    </section>
  </main>

  <footer class="mx-auto max-w-6xl px-4 py-10 text-sm text-gray-600">
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
      <p>© 2025 OptiLoves Invest</p>
      <nav class="flex gap-4">
        <a href="/terms" class="hover:underline">Terms</a>
        <a href="/privacy" class="hover:underline">Privacy</a>
        <a href="/contact" class="hover:underline">Contact</a>
      </nav>
    </div>
    <p class="mt-4 font-medium">Fighting poverty with love and investment</p>
  </footer>
</body>
</html>
<script>
fetch("/public/properties").then(r=>r.json()).then(d=>{
  const p=(d.properties||[])[0]; if(!p) return;
  const price=`$${p.token_price_usd}`;
  const live=p.status==="live";
  (document.getElementById("price")||{}).textContent=price;
  (document.getElementById("heroPrice")||{}).textContent=price;
  const statusEl=document.getElementById("status");
  if(statusEl) statusEl.textContent = live ? "Available" : "Available soon";
  const buy=document.getElementById("buyBtn");
  if(buy){
    if(live){
      buy.classList.remove("bg-gray-300","text-gray-600","pointer-events-none","select-none");
      buy.classList.add("bg-black","text-white");
      buy.href="/buy/nsele-hq";
    }else{
      buy.classList.add("bg-gray-300","text-gray-600","pointer-events-none","select-none");
      buy.classList.remove("bg-black","text-white");
      buy.href="/kyc?next=/buy/nsele-hq";
    }
  }
}).catch(()=>{});
</script>
